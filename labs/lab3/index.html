<!DOCTYPE html>

<html>
    <head>
        <title>US Geography</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/styles.css">
    </head>
   
    <body>
<h1>US Geography Quiz</h1>

<h2><span id="markImg1"></span>What is the Capital of California?</h2>

<input type="text" id="q1">
<div id="q1_feedback">
    
</div>

<h2>What is the longest river?</h2>

<select id="q2">
    <option value="">Select One</option>
    <option>Mississippi River</option>
    <option>Missouri River</option>
    <option>Delaware River</option>
    <option>Hudson River</option>
</select>

<div id="q2_feedback">
    
</div>

<h2><span id="markImg1"></span>What is the smallest state?</h2>
<div id+"q3_feedback">
<input type="radio" name="q3" id="maine" ><label for="maine">Maine</label>
<input type="radio" name="q3" id="ri" value="Rhode Island"><label for="ri">Rhode Island</label>
<input type="radio" name="q3" id="maryland"><label for="maryland">Maryland</label>
<input type="radio" name="q3" id="delaware"><label for="delaware">Delaware</label>
</div>

<div id="q3_feedback">
    
</div>

<h2><span id="markImg1"></span>What presidents are carved into Mount Rushmore?</h2>
<input type="checkbox" id="Jackson"><label for="Jackson">A. Jackson</label>
<input type="checkbox" id="Franklin"><label for="Franklin">B. Franklin</label>
<input type="checkbox" id="Jefferson"><label for="Jefferson">T. Jefferson</label>
<input type="checkbox" id="Roosevelt"><label for="Roosevelt">T. Roosevelt</label>

<div id="q4_feedback"></div>

<h2><span id="markImg1"></span>Which is the Great Seal of California?</h2>
<img src="img/seal1.png" alt="Seal 1" class="active" id="seal1">
<img src="img/seal2.png" alt="Seal 2" class="active" id="seal2">
<img src="img/seal3.png" alt="Seal 3" class="active" id="seal3">

<div id="q5_feedback"></div>

<br><br>

<div id="total">
    
</div>
<h2 id="total"></h2>
<button id="submitBtn">Submit</button>
<h2 id="validSubmission"></h2>
<h2 id="totalTimes"></h2>
    </body>
    <script>
    /* global $ */
    /* global localStorage */
        let q1_value = 20;
        let q2_value = 20;
        let q3_value = 20;
        let q4_value = 20;
        let q5_value = 20;
        
        let q1_answer = "Sacramento";
        let q2_answer = "Missouri River";
        let q3_answer = "Rhode Island";
        let q5_answer = "seal2";
        let q5_response = "";
        let totalTimes = localStorage.getItem("timesTaken");
        
        $(".active").on("click", function(){
            $(".active").css("background", "");
            $(this).css("background", "yellow");
            // alert($(this).attr("id"));
            q5_response = $(this).attr("id");
        });
        
        function isFormValid(){
            let isValid = true;
            if ($("#q1").val() == "") {
                isValid = false;
                $("#validSubmission").html("Question 1 not answered.");
            }
            if ($("#q2").val() == "") {
                isValid = false;
                $("#validSubmission").html("Question 2 not answered.");
            }
            if ($("#q3").val() == "") {
                isValid = false;
                $("#validSubmission").html("Question 3 not answered.");
            }
            if ($("#q4").val() == "") {
                isValid = false;
                $("#validSubmission").html("Question 4 not answered.");
            }
            if ($("#q5").val() == "") {
                isValid = false;
                $("#validSubmission").html("Question 5 not answered.");
            }
            return isValid;
        }

        
        $("#submitBtn").click(function(){
            $("#validSubmission").html("");
            if (!isFormValid()) {
                // isFormValid == false
                return;
            }
            
            let total_points=0;

           let q1_response = $("#q1").val();
           let q2_response = $("#q2").val();
           let q3_response = $("input[name=q3]:checked").val();
           // Question 1
           if(q1_response == q1_answer){
               $("#q1_feedback").html("Correct!");
               total_points += q1_value;
               $("#markImg1").html("<img src='img/checkmark.png' alt='checkmark'>");
               $("#total").html(total_points);
               $("#q1_feedback").attr("class", "correct");
           } else {
               $("#q1_feedback").html("Incorrect!");
               $("#q1_feedback").attr("class", "incorrect");
               $("#markImg1").html("<img src='img/xmark.png' alt='xmark'>");
           }
           // Question 2
           if(q2_response == q2_answer){
               $("#q2_feedback").html("Correct!");
               
               total_points += q2_value;
               $("#markImg1").html("<img src='img/checkmark.png' alt='checkmark'>");
               $("#q2_feedback").attr("class", "correct");
           } else {
               $("#q2_feedback").html("Incorrect!");
               $("#q2_feedback").attr("class", "incorrect");
               $("#markImg1").html("<img src='img/xmark.png' alt='xmark'>");
           }
           // Question 3
           if(q3_response == q3_answer){
               $("#q3_feedback").html("Correct!");
               $("#q3_feedback").attr("class", "correct");
               total_points += q3_value;
               $("#markImg1").html("<img src='img/checkmark.png' alt='checkmark'>");
           } else {
               $("#q3_feedback").html("Incorrect!");
               $("#q3_feedback").attr("class", "incorrect");
               $("#markImg1").html("<img src='img/xmark.png' alt='xmark'>");
           }
           // Question 4
            if ($("#Jefferson").is(":checked") && $("#Roosevelt").is(":checked") && !$("#Jackson").is(":checked")&& !$("#Franklin").is(":checked")){
               $("#q4_feedback").html("Correct!");
               $("#q4_feedback").attr("class", "correct");
               total_points += q4_value;
               $("#markImg1").html("<img src='img/checkmark.png' alt='checkmark'>");
           } else {
               $("#q4_feedback").html("Incorrect!");
               $("#q4_feedback").attr("class", "incorrect");
               $("#markImg1").html("<img src='img/xmark.png' alt='xmark'>");
           }
           // Question 5
           if (q5_response == q5_answer){
               $("#q5_feedback").html("Correct!");
               $("#q5_feedback").attr("class", "correct");
               total_points += q5_value;
               $("#markImg1").html("<img src='img/checkmark.png' alt='checkmark'>");
           } else {
               $("#q5_feedback").html("Incorrect!");
               $("#q5_feedback").attr("class", "incorrect");
               $("#markImg1").html("<img src='img/xmark.png' alt='xmark'>");
           }
           $("#total").html("The total score is " + total_points);
           totalTimes++;
           localStorage.setItem("timesTaken", totalTimes);
           $("#totalTimes").html("You've taken this quiz " + totalTimes + " time(s).");
        });
        
    </script>
</html>